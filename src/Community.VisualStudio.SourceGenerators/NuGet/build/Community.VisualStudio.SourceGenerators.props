<Project>
  
  <ItemGroup>
    <!-- 
    Make the root namespace accessible within the generator
    so that the code can be generated in the root namespace.
    -->
    <CompilerVisibleProperty Include="RootNamespace" />

    <!-- 
    Make the language version accessible within the generator so that the
    generator can determine whether nullable reference types are allowed.
    -->
    <CompilerVisibleProperty Include="LangVersion" />
    
    <!-- 
    Allow the `Namespace` metadata of the AdditionalFiles to be accessible within the generator.
    This allows the generator to generate the code into a specific namespace instead of the root namespace.
    -->
    <CompilerVisibleItemMetadata Include="AdditionalFiles" MetadataName="Namespace" />
  </ItemGroup>

  <ItemGroup>
    <!-- 
    Include the manifest file as an additional file. 
    This allows the generator to access it.
    -->
    <AdditionalFiles Condition="Exists('$(MSBuildProjectDirectory)\source.extension.vsixmanifest')" Include="$(MSBuildProjectDirectory)\source.extension.vsixmanifest" />
  </ItemGroup>

  <ItemGroup>
    <!-- 
    Include all VSCT files as additional files.
    This allows the generator to access them.
    -->
    <AdditionalFiles Include="**\*.vsct"/>
  </ItemGroup>

</Project>
